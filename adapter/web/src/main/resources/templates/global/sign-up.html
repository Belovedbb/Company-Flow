<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Registration</title>

    <link th:href="@{/css/register.css}" th:rel="stylesheet" />
    <link th:href="@{webjars/bootstrap/4.4.1/css/bootstrap.min.css}" th:rel="stylesheet" />
    <link th:rel="stylesheet" th:href="@{webjars/font-awesome/5.13.0/css/all.css} "/>

    <script>
        window.console = window.console || function(t) {};
        if (document.location.search.match(/type=embed/gi)) {
            window.parent.postMessage("resize", "*");
        }
    </script>
</head>

<body translate="no">
<div class="container">
        <form id="msform" enctype="multipart/form-data" th:action="@{/register}" th:object="${user}" method="post">
            <p class="error-message alert alert-danger" th:if="${#fields.hasGlobalErrors()}"
               th:each="error : ${#fields.errors('global')}" th:text="${error}">Error validating input</p>

            <ul id="progressbar">
                <li class="active">Basic Setup</li>
                <li>Profile Setup</li>
                <li>Details Setup</li>
            </ul>
            <fieldset class="">
                <h2 class="fs-title">Basic Setup</h2>
                <h3 class="fs-subtitle">Key Information</h3>
                <input type="text" th:field="*{email}" autocomplete="off" readonly onfocus="this.removeAttribute('readonly');" placeholder="Email" />
                <input type="password" autocomplete="off" readonly onfocus="this.removeAttribute('readonly');" th:field="*{password}" placeholder="Password" />
                <input type="password" autocomplete="off" readonly onfocus="this.removeAttribute('readonly');" th:field="*{confirmPassword}" placeholder="Confirm Password" />
                <input type="button" name="next" class="next action-button" value="Next" />
            </fieldset>
            <fieldset>
                <h2 class="fs-title">Profile Setup</h2>
                <h3 class="fs-subtitle">Profile Information</h3>
                <div class="input-group mb-3 px-2 py-2 rounded-pill bg-white shadow-sm">
                    <input id="upload" type="file" accept="image/*" th:field="*{profilePicture}" onchange="readURL(this);" class="form-control border-0">
                    <label id="upload-label" for="upload" class="font-weight-light text-muted">Choose file</label>
                    <div class="input-group-append">
                        <label for="upload" class="btn btn-light m-0 rounded-pill px-4"> <i class="fa fa-cloud-upload mr-2 text-muted"></i><small class="text-uppercase font-weight-bold text-muted">Choose file</small></label>
                    </div>
                </div>
                <div class="image-area mt-4"><img id="imageResult" src="#" alt="" class="img-fluid rounded shadow-sm mx-auto d-block"></div>
                <br/>
                <input type="text" th:field="*{alias}" placeholder="Alias" />
                <input type="button" name="previous" class="previous action-button" value="Previous" />
                <input type="button" name="next" class="next action-button" value="Next" />
            </fieldset>
            <fieldset>
                <h2 class="fs-title">Details Setup</h2>
                <h3 class="fs-subtitle">Details Information</h3>
                <input type="text" th:field="*{firstName}" placeholder="First Name" />
                <input type="text" th:field="*{lastName}" placeholder="Last Name" />
                <input type="text" th:field="*{phoneNumber}" placeholder="Phone" />
                <textarea th:field="*{address}" placeholder="Address"></textarea>
                <input type="button" name="previous" class="previous action-button" value="Previous" />
                <input type="submit" class="action-button" value="Submit" />
            </fieldset>
        </form>

</div>
<script th:src="@{webjars/jquery/3.0.0/jquery.min.js}" ></script>
<script th:src="@{webjars/jquery-easing/1.3/jquery.easing.min.js}" ></script>
<script th:src="@{webjars/bootstrap/4.4.1/js/bootstrap.bundle.min.js}"></script>
<script th:src="@{/js/register.js}"></script>
</body>
</html>

